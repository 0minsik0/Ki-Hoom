<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >

<mapper namespace="stockMapper">



<resultMap type="Stock" id="StockResult">
	<result column="board_no" property="stockNo"/>
	<result column="board_title" property="sotckId"/>
	<result column="mem_no" property="memNo"/>
	<result column="stock_account" property="stockAccount"/>
</resultMap>


<select id="selectStockChoose" resultType="_int">
select count(*) as "count"
from stock_choose
where mem_no = #{memNo}
and stock_no = #{stockNo}


</select>

<insert id="insertStockChoose">
insert
into stock_choose
(
    choose_no
  , mem_no
  , stock_no
)
values
(
   stock_choose_seq.nextval
 , #{memNo}
 , #{stockNo}
)

</insert>


<delete id="deleteStockChosse">
delete from stock_choose
where mem_no = #{memNo}
and stock_no = #{stockNo}
</delete>



<select id="selectStockAccount" resultMap="StockResult">
select 
 mem_no
, stock_account
from stock_buy
where mem_no=#{memNo}

</select>




<select id="selectChooseList" resultMap="StockResult">
select 
stockNo
from stock_choose
where mem_no=#{memNo}
order by choose_no desc

</select>








</mapper>




